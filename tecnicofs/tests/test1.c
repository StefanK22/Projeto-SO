#include "fs/operations.h"
#include <assert.h>
#include <string.h>

int main() {

    //char *str = "AAA!";
    char *str = "Super Mario Bros. Logo.svg Sobre esta imagem Super Mario Bros. é um jogo eletrônico de plataforma desenvolvido pela Nintendo Research & Development 4 e publicado pela Nintendo para o Famicom em 1985 no Japão e para o Nintendo Entertainment System (NES) em 1985 e 1987 na América do Norte e Europa, respectivamente. É o sucessor do jogo de arcade Mario Bros., de 1983. Os jogadores controlam Mario, ou seu irmão Luigi no modo multijogador, enquanto viajam pelo Reino dos Cogumelos para resgatar a Princesa Peach de Bowser. Eles devem percorrer os mundos em uma visão em rolagem lateral, evitando perigos como inimigos e buracos com a ajuda de power-ups como o Super Cogumelo, Fire Flower e Starman. REPETIÇÃO Super Mario Bros. Logo.svg Sobre esta imagem Super Mario Bros. é um jogo eletrônico de plataforma desenvolvido pela Nintendo Research & Development 4 e publicado pela Nintendo para o Famicom em 1985 no Japão e para o Nintendo Entertainment System (NES) em 1985 e 1987 na América do Norte e Europa, respectivamente. É o sucessor do jogo de arcade Mario Bros., de 1983. Os jogadores controlam Mario, ou seu irmão Luigi no modo multijogador, enquanto viajam pelo Reino dos Cogumelos para resgatar a Princesa Peach de Bowser. Eles devem percorrer os mundos em uma visão em rolagem lateral, evitando perigos como inimigos e buracos com a ajuda de power-ups como o Super Cogumelo, Fire Flower e Starman. FIMTendes em mi um novo engenho ardente, Se sempre em verso humilde celebrado Foi de mi vosso rio alegremente, Dai-me agora um som alto e sublimado, Um estilo grandíloco e corrente,Por que de vossas águas Febo ordene Que não tenham enveja às de Hipocrene.Dai-me üa fúria grande e sonorosa,E não de agreste avena ou frauta ruda, Mas de tuba canora e belicosa,Que o peito acende e a cor ao gesto muda; Dai-me igual canto aos feitos da famosa Gente vossa, que a Marte tanto ajuda; Que se espalhe e se cante no universo, Se tão sublime preço cabe em verso.E, vós, ó bem nascida segurançaDa Lusitana antiga liberdade,E não menos certíssima esperançaDe aumento da pequena Cristandade; Vós, ó novo temor da Maura lança, Maravilha fatal da nossa idade,Dada ao mundo por Deus, que todo o mande, Pera do mundo a Deus dar parte grande;Vós, tenro e novo ramo florecente De üa árvore, de Cristo mais amada Que nenhüa nascida no Ocidente, Cesárea ou Cristianíssima chamada (Vede-o no vosso escudo, que presente Vos amostra a vitória já passada, Na qual vos deu por armas e deixou As que Ele pera si na Cruz tomou);Vós, poderoso Rei, cujo alto Império O Sol, logo em nascendo, vê primeiro, Vê-o também no meio do Hemisfério, E quando dece o deixa derradeiro; Vós, que esperamos jugo e vitupério Do torpe Ismaelita cavaleiro,Do Turco Oriental e do Gentio Que inda bebe o licor do santo Rio:Inclinei por um pouco a majestade Que nesse tenro gesto vos contemplo, Que já se mostra qual na inteira idade, Quando subindo ireis ao eterno templo; Os olhos da real benignidade Ponde no chão: vereis um novo exemplo De amor dos pátrios feitos valerosos, Em versos divulgado numerosos.Vereis amor da pátria, não movido De prémio vil, mas alto e quási eterno; Que não é prémio vil ser conhecido Por um pregão do ninho meu paterno. Ouvi: vereis o nome engrandecido Daqueles de quem sois senhor superno, E julgareis qual é mais excelente, Se ser do mundo Rei, se de tal gente.Ouvi, que não vereis com vãs façanhas, Fantásticas, fingidas, mentirosas, Louvar os vossos, como nas estranhas Musas, de engrandecer-se desejosas: As verdadeiras vossas são tamanhas Que excedem as sonhadas, fabulosas, Que excedem Rodamonte e o vão Rugeiro E Orlando, inda que fora verdadeiro.Por estes vos darei um Nuno fero, Que fez ao Rei e ao Reino tal serviço, Um Egas e um Dom Fuas, que de Homero A cítara par'eles só cobiço;Pois polos Doze Pares dar-vos quero Os Doze de Inglaterra e o seu Magriço; Dou-vos também aquele ilustre Gama, Que para si de Eneias toma a fama.Pois se a troco de (Carlos, Rei de França, Ou de César, quereis igual memória, Vede o primeiro Afonso, cuja lança Escura faz qualquer estranha glória;E aquele que a seu Reino a segurança Deixou, com a grande e próspera vitória; Outro Joane, invicto cavaleiro;O quarto e quinto Afonsos e o terceiro.Nem deixarão meus versos esquecidos Aqueles que nos Reinos lá da Aurora Se fizeram por armas tão subidos, Vossa bandeira sempre vencedora: Um Pacheco fortíssimo e os temidos Almeidas, por quem sempre o Tejo chora, Albuquerque terríbil, Castro forte,E outros em quem poder não teve a morte.E, enquanto eu estes canto - e a vós não posso, Sublime Rei, que não me atrevo a tanto - , Tomai as rédeas vós do Reino vosso: Dareis matéria a nunca ouvido canto. Comecem a sentir o peso grosso(Que polo mundo todo faça espanto)De exércitos e feitos singulares,De África as terras e do Oriente os mares.Em vós os olhos tem o Mouro frio, Em quem vê seu exício afigurado; Só com vos ver, o bárbaro Gentio Mostra o pescoço ao jugo já inclinado; Tétis todo o cerúleo senhorioTem pera vós por dote aparelhado, Que, afeiçoada ao gesto belo e tento, Deseja de comprar-vos pera genro.Em vós se vêm, da Olímpica morada, Dos dous avós as almas cá famosas; üa, na paz angélica dourada, Outra, pelas batalhas sanguinosas. Em vós esperam ver-se renovada Sua memória e obras valerosas;E lá vos têm lugar, no fim da idade, No templo da suprema Eternidade.Mas, enquanto este tempo passa lento De regerdes os povos, que o desejam, Dai vós favor ao novo atrevimento, Pera que estes meus versos vossos sejam, E vereis ir cortando o salso argento Os vossos Argonautas, por que vejam Que são vistos de vós no mar irado,E costumai-vos já a ser invocado.Já no largo Oceano navegavam,As inquietas ondas apartando;Os ventos brandamente respiravam, Das naus as velas côncavas inchando; Da branca escuma os mares se mostravam Cobertos, onde as proas vão cortando As marítimas águas consagradas, Que do gado de Próteu são cortadas,Quando os Deuses no Olimpo luminoso, Onde o governo está da humana gente, Se ajuntam em consílio glorioso, Sobre as cousas futuras do Oriente. Pisando o cristalino Céu fermoso, Vêm pela Via Láctea juntamente, Convocados, da parte de Tonante, Pelo neto gentil do velho Atlante.Deixam dos sete Céus o regimento, Que do poder mais alto lhe foi dado, Alto poder, que só co pensamento Governa o Céu, a Terra e o Mar irado. Ali se acharam juntos num momento Os que habitam o Arcturo congelado E os que o Austro têm e as partes onde A Aurora nasce e o claro Sol se esconde.Estava o Padre ali, sublime e dino, Que vibra os feros raios de Vulcano, Num assento de estrelas cristalino, Com gesto alto, severo e soberano; Do rosto respirava um ar divino, Que divino tornara um corpo humano: Com üa coroa e ceptro rutilante,De outra pedra mais clara que diamante.Em luzentes assentos, marchetadosDe ouro e de perlas, mais abaixo estavam Os outros Deuses, todos assentados Como a Razão e a Ordem concertavam (Precedem os antigos, mais honrados, Mais abaixo os menores se assentavam); Quando Júpiter alto, assi dizendo, Cum tom de voz começa grave e horrendo:Super Mario Bros. Logo.svg Sobre esta imagem Super Mario Bros. é um jogo eletrônico de plataforma desenvolvido pela Nintendo Research & Development 4 e publicado pela Nintendo para o Famicom em 1985 no Japão e para o Nintendo Entertainment System (NES) em 1985 e 1987 na América do Norte e Europa, respectivamente. É o sucessor do jogo de arcade Mario Bros., de 1983. Os jogadores controlam Mario, ou seu irmão Luigi no modo multijogador, enquanto viajam pelo Reino dos Cogumelos para resgatar a Princesa Peach de Bowser. Eles devem percorrer os mundos em uma visão em rolagem lateral, evitando perigos como inimigos e buracos com a ajuda de power-ups como o Super Cogumelo, Fire Flower e Starman. REPETIÇÃO Super Mario Bros. Logo.svg Sobre esta imagem Super Mario Bros. é um jogo eletrônico de plataforma desenvolvido pela Nintendo Research & Development 4 e publicado pela Nintendo para o Famicom em 1985 no Japão e para o Nintendo Entertainment System (NES) em 1985 e 1987 na América do Norte e Europa, respectivamente. É o sucessor do jogo de arcade Mario Bros., de 1983. Os jogadores controlam Mario, ou seu irmão Luigi no modo multijogador, enquanto viajam pelo Reino dos Cogumelos para resgatar a Princesa Peach de Bowser. Eles devem percorrer os mundos em uma visão em rolagem lateral, evitando perigos como inimigos e buracos com a ajuda de power-ups como o Super Cogumelo, Fire Flower e Starman. FIMTendes em mi um novo engenho ardente, Se sempre em verso humilde celebrado Foi de mi vosso rio alegremente, Dai-me agora um som alto e sublimado, Um estilo grandíloco e corrente,Por que de vossas águas Febo ordene Que não tenham enveja às de Hipocrene.Dai-me üa fúria grande e sonorosa,E não de agreste avena ou frauta ruda, Mas de tuba canora e belicosa,Que o peito acende e a cor ao gesto muda; Dai-me igual canto aos feitos da famosa Gente vossa, que a Marte tanto ajuda; Que se espalhe e se cante no universo, Se tão sublime preço cabe em verso.E, vós, ó bem nascida segurançaDa Lusitana antiga liberdade,E não menos certíssima esperançaDe aumento da pequena Cristandade; Vós, ó novo temor da Maura lança, Maravilha fatal da nossa idade,Dada ao mundo por Deus, que todo o mande, Pera do mundo a Deus dar parte grande;Vós, tenro e novo ramo florecente De üa árvore, de Cristo mais amada Que nenhüa nascida no Ocidente, Cesárea ou Cristianíssima chamada (Vede-o no vosso escudo, que presente Vos amostra a vitória já passada, Na qual vos deu por armas e deixou As que Ele pera si na Cruz tomou);Vós, poderoso Rei, cujo alto Império O Sol, logo em nascendo, vê primeiro, Vê-o também no meio do Hemisfério, E quando dece o deixa derradeiro; Vós, que esperamos jugo e vitupério Do torpe Ismaelita cavaleiro,Do Turco Oriental e do Gentio Que inda bebe o licor do santo Rio:Inclinei por um pouco a majestade Que nesse tenro gesto vos contemplo, Que já se mostra qual na inteira idade, Quando subindo ireis ao eterno templo; Os olhos da real benignidade Ponde no chão: vereis um novo exemplo De amor dos pátrios feitos valerosos, Em versos divulgado numerosos.Vereis amor da pátria, não movido De prémio vil, mas alto e quási eterno; Que não é prémio vil ser conhecido Por um pregão do ninho meu paterno. Ouvi: vereis o nome engrandecido Daqueles de quem sois senhor superno, E julgareis qual é mais excelente, Se ser do mundo Rei, se de tal gente.Ouvi, que não vereis com vãs façanhas, Fantásticas, fingidas, mentirosas, Louvar os vossos, como nas estranhas Musas, de engrandecer-se desejosas: As verdadeiras vossas são tamanhas Que excedem as sonhadas, fabulosas, Que excedem Rodamonte e o vão Rugeiro E Orlando, inda que fora verdadeiro.Por estes vos darei um Nuno fero, Que fez ao Rei e ao Reino tal serviço, Um Egas e um Dom Fuas, que de Homero A cítara par'eles só cobiço;Pois polos Doze Pares dar-vos quero Os Doze de Inglaterra e o seu Magriço; Dou-vos também aquele ilustre Gama, Que para si de Eneias toma a fama.Pois se a troco de (Carlos, Rei de França, Ou de César, quereis igual memória, Vede o primeiro Afonso, cuja lança Escura faz qualquer estranha glória;E aquele que a seu Reino a segurança Deixou, com a grande e próspera vitória; Outro Joane, invicto cavaleiro;O quarto e quinto Afonsos e o terceiro.Nem deixarão meus versos esquecidos Aqueles que nos Reinos lá da Aurora Se fizeram por armas tão subidos, Vossa bandeira sempre vencedora: Um Pacheco fortíssimo e os temidos Almeidas, por quem sempre o Tejo chora, Albuquerque terríbil, Castro forte,E outros em quem poder não teve a morte.E, enquanto eu estes canto - e a vós não posso, Sublime Rei, que não me atrevo a tanto - , Tomai as rédeas vós do Reino vosso: Dareis matéria a nunca ouvido canto. Comecem a sentir o peso grosso(Que polo mundo todo faça espanto)De exércitos e feitos singulares,De África as terras e do Oriente os mares.Em vós os olhos tem o Mouro frio, Em quem vê seu exício afigurado; Só com vos ver, o bárbaro Gentio Mostra o pescoço ao jugo já inclinado; Tétis todo o cerúleo senhorioTem pera vós por dote aparelhado, Que, afeiçoada ao gesto belo e tento, Deseja de comprar-vos pera genro.Em vós se vêm, da Olímpica morada, Dos dous avós as almas cá famosas; üa, na paz angélica dourada, Outra, pelas batalhas sanguinosas. Em vós esperam ver-se renovada Sua memória e obras valerosas;E lá vos têm lugar, no fim da idade, No templo da suprema Eternidade.Mas, enquanto este tempo passa lento De regerdes os povos, que o desejam, Dai vós favor ao novo atrevimento, Pera que estes meus versos vossos sejam, E vereis ir cortando o salso argento Os vossos Argonautas, por que vejam Que são vistos de vós no mar irado,E costumai-vos já a ser invocado.Já no largo Oceano navegavam,As inquietas ondas apartando;Os ventos brandamente respiravam, Das naus as velas côncavas inchando; Da branca escuma os mares se mostravam Cobertos, onde as proas vão cortando As marítimas águas consagradas, Que do gado de Próteu são cortadas,Quando os Deuses no Olimpo luminoso, Onde o governo está da humana gente, Se ajuntam em consílio glorioso, Sobre as cousas futuras do Oriente. Pisando o cristalino Céu fermoso, Vêm pela Via Láctea juntamente, Convocados, da parte de Tonante, Pelo neto gentil do velho Atlante.Deixam dos sete Céus o regimento, Que do poder mais alto lhe foi dado, Alto poder, que só co pensamento Governa o Céu, a Terra e o Mar irado. Ali se acharam juntos num momento Os que habitam o Arcturo congelado E os que o Austro têm e as partes onde A Aurora nasce e o claro Sol se esconde.Estava o Padre ali, sublime e dino, Que vibra os feros raios de Vulcano, Num assento de estrelas cristalino, Com gesto alto, severo e soberano; Do rosto respirava um ar divino, Que divino tornara um corpo humano: Com üa coroa e ceptro rutilante,De outra pedra mais clara que diamante.Em luzentes assentos, marchetadosDe ouro e de perlas, mais abaixo estavam Os outros Deuses, todos assentados Como a Razão e a Ordem concertavam (Precedem os antigos, mais honrados, Mais abaixo os menores se assentavam); Quando Júpiter alto, assi dizendo, Cum tom de voz começa grave e horrendo:";
    char *path = "/f1";
    char *str2 = "OLA TUDO BEM?";
    char *str3 = " Vou escrever mais alguma coisa. ";
   // char buffer[40];

    assert(tfs_init() != -1);

    int f;
    ssize_t r;

    f = tfs_open(path, TFS_O_CREAT);
    assert(f != -1);

    r = tfs_write(f, str, strlen(str));
    assert(r == strlen(str));

    r = tfs_write(f, str2, strlen(str2));
    assert(r == strlen(str2));

    r = tfs_write(f, str3, strlen(str3));
    assert(r == strlen(str3));

    teste();

    assert(tfs_close(f) != -1);

    //f = tfs_open(path, 0);
    //assert(f != -1);

    //r = tfs_read(f, buffer, sizeof(buffer) - 1);
    //assert(r == strlen(str));

    //int i = tfs_copy_to_external_fs(path, "teste.txt");
    //assert(i == 0);

    /*buffer[r] = '\0';
    assert(strcmp(buffer, str) == 0);

    assert(tfs_close(f) != -1);*/

    printf("Successful test.\n");

    return 0;
}
